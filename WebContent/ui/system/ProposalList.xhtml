<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/common/commonLayout.xhtml">
                
   <ui:define name="content">
   
   		<h:form id="proposalTable">
					
				<p:dataTable var="proposal" value="#{ManageProposalActionBean.proposalList}" id="proposalId" paginator="true" rows="10" style="width:100%" widgetVar="studentTable"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15"
					rowKey="#{proposal.id}" reflow="true" rowIndexVar="var" paginatorPosition="bottom">
					<p:column headerText="No" width="2%">
						<h:outputText value="#{var+1}" />
					</p:column>
					<p:column headerText="Insured Name" filterBy="#{proposal.insuredName}" filterMatchMode="contains">
						<h:outputText value="#{proposal.insuredName}" />
					</p:column>
					<p:column headerText="Bank"  filterMatchMode="contains">
						<h:outputText value="#{proposal.bank}" />
					</p:column>
					<p:column headerText="Address">
						<h:outputText value="#{proposal.address}" />
					</p:column>
					<p:column headerText="Policy NO">
						<h:outputText value="#{proposal.policyNo}" />
					</p:column>
					<p:column headerText="Sum Insured">
						<h:outputText value="#{proposal.sumInsured}" />
					</p:column>
					<p:column headerText="Rate">
						<h:outputText value="#{proposal.rate}" />
					</p:column>
					<p:column headerText="Premium">
						<h:outputText value="#{proposal.premium}" />
					</p:column>
					<p:column headerText="Start Date">
						<h:outputText value="#{proposal.startDate}" />
					</p:column>
					 <p:column style="width:4%;">
						<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{ManageProposalActionBean.prepareUpdateProposal(proposal)}" process="@this" update=":proposalTable" />
					</p:column>
					<p:column style="width:4%;">
						<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{ManageProposalActionBean.deleteProposal(proposal)}" oncomplete="PF('proposalId').filter();" update=":proposalTable">
							<p:confirm header="Confirmation" message="are you sure to delete??" icon="fa fa-exclamation-triangle" />
						</p:commandButton>
					</p:column>
					<!-- <p:column style="width:4%;">
						 <p:commandButton type="black-button" icon="fa fa-print" action="#{ManageStudentActionBean.generateReport(student)}" oncomplete="PF('pdfDialog').show()"
						 update="pdfForm" style="float:right;"/>
					</p:column>  -->
				</p:dataTable>
			</h:form>
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
				<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-times" />
			</p:confirmDialog>
   		
   </ui:define>             
           
</ui:composition>